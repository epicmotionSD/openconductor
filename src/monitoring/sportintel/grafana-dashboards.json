{
  "sportintel_overview": {
    "dashboard": {
      "id": null,
      "title": "SportIntel - Overview Dashboard",
      "tags": ["sportintel", "overview"],
      "timezone": "browser",
      "panels": [
        {
          "id": 1,
          "title": "System Health",
          "type": "stat",
          "targets": [
            {
              "expr": "up{job=\"sportintel\"} * 100",
              "legendFormat": "Uptime %"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  { "color": "red", "value": 0 },
                  { "color": "yellow", "value": 95 },
                  { "color": "green", "value": 99 }
                ]
              },
              "unit": "percent"
            }
          },
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 0 }
        },
        {
          "id": 2,
          "title": "Response Time (95th percentile)",
          "type": "stat",
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(sportintel_http_request_duration_seconds_bucket[5m])) by (le)) * 1000",
              "legendFormat": "Response Time"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "thresholds": {
                "steps": [
                  { "color": "green", "value": 0 },
                  { "color": "yellow", "value": 200 },
                  { "color": "red", "value": 500 }
                ]
              },
              "unit": "ms"
            }
          },
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 0 }
        },
        {
          "id": 3,
          "title": "Active Subscriptions",
          "type": "stat",
          "targets": [
            {
              "expr": "sum(sportintel_active_subscriptions{status=\"active\"})",
              "legendFormat": "Active Users"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "unit": "short"
            }
          },
          "gridPos": { "h": 8, "w": 8, "x": 0, "y": 8 }
        },
        {
          "id": 4,
          "title": "Monthly Revenue",
          "type": "stat",
          "targets": [
            {
              "expr": "sum(sportintel_subscription_revenue_dollars{period=\"monthly\"})",
              "legendFormat": "MRR"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "unit": "currencyUSD"
            }
          },
          "gridPos": { "h": 8, "w": 8, "x": 8, "y": 8 }
        },
        {
          "id": 5,
          "title": "Predictions Generated",
          "type": "stat",
          "targets": [
            {
              "expr": "sum(increase(sportintel_predictions_total[1h]))",
              "legendFormat": "Last Hour"
            }
          ],
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "unit": "short"
            }
          },
          "gridPos": { "h": 8, "w": 8, "x": 16, "y": 8 }
        }
      ],
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "refresh": "30s"
    }
  },
  "sportintel_performance": {
    "dashboard": {
      "id": null,
      "title": "SportIntel - Performance & SLA Dashboard",
      "tags": ["sportintel", "performance", "sla"],
      "timezone": "browser",
      "panels": [
        {
          "id": 10,
          "title": "API Response Times",
          "type": "graph",
          "targets": [
            {
              "expr": "histogram_quantile(0.50, sum(rate(sportintel_http_request_duration_seconds_bucket[5m])) by (le)) * 1000",
              "legendFormat": "50th percentile"
            },
            {
              "expr": "histogram_quantile(0.95, sum(rate(sportintel_http_request_duration_seconds_bucket[5m])) by (le)) * 1000",
              "legendFormat": "95th percentile"
            },
            {
              "expr": "histogram_quantile(0.99, sum(rate(sportintel_http_request_duration_seconds_bucket[5m])) by (le)) * 1000",
              "legendFormat": "99th percentile"
            }
          ],
          "yAxes": [
            {
              "label": "Response Time (ms)",
              "min": 0
            }
          ],
          "thresholds": [
            {
              "value": 200,
              "colorMode": "critical",
              "op": "gt",
              "fill": true,
              "line": true
            }
          ],
          "gridPos": { "h": 9, "w": 12, "x": 0, "y": 0 }
        },
        {
          "id": 11,
          "title": "Throughput (RPS)",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(rate(sportintel_http_requests_total[5m]))",
              "legendFormat": "Total RPS"
            },
            {
              "expr": "sum(rate(sportintel_http_requests_total[5m])) by (subscription_tier)",
              "legendFormat": "{{subscription_tier}}"
            }
          ],
          "yAxes": [
            {
              "label": "Requests per Second",
              "min": 0
            }
          ],
          "gridPos": { "h": 9, "w": 12, "x": 12, "y": 0 }
        },
        {
          "id": 12,
          "title": "Error Rate",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(rate(sportintel_http_request_errors_total[5m])) / sum(rate(sportintel_http_requests_total[5m])) * 100",
              "legendFormat": "Error Rate %"
            }
          ],
          "yAxes": [
            {
              "label": "Error Rate (%)",
              "min": 0,
              "max": 100
            }
          ],
          "thresholds": [
            {
              "value": 1,
              "colorMode": "critical",
              "op": "gt",
              "fill": true,
              "line": true
            }
          ],
          "gridPos": { "h": 9, "w": 12, "x": 0, "y": 9 }
        },
        {
          "id": 13,
          "title": "Cache Hit Rate",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(rate(sportintel_cache_hits_total[5m])) / (sum(rate(sportintel_cache_hits_total[5m])) + sum(rate(sportintel_cache_misses_total[5m]))) * 100",
              "legendFormat": "Overall Hit Rate"
            },
            {
              "expr": "sum(rate(sportintel_cache_hits_total[5m])) by (layer) / (sum(rate(sportintel_cache_hits_total[5m])) by (layer) + sum(rate(sportintel_cache_misses_total[5m])) by (layer)) * 100",
              "legendFormat": "{{layer}} Hit Rate"
            }
          ],
          "yAxes": [
            {
              "label": "Hit Rate (%)",
              "min": 0,
              "max": 100
            }
          ],
          "thresholds": [
            {
              "value": 95,
              "colorMode": "critical",
              "op": "lt",
              "fill": true,
              "line": true
            }
          ],
          "gridPos": { "h": 9, "w": 12, "x": 12, "y": 9 }
        }
      ],
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "refresh": "10s"
    }
  },
  "sportintel_predictions": {
    "dashboard": {
      "id": null,
      "title": "SportIntel - AI Predictions Dashboard",
      "tags": ["sportintel", "ai", "predictions"],
      "timezone": "browser",
      "panels": [
        {
          "id": 20,
          "title": "Predictions per Hour",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(increase(sportintel_predictions_total[1h])) by (sport)",
              "legendFormat": "{{sport}}"
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 0 }
        },
        {
          "id": 21,
          "title": "Model Accuracy",
          "type": "graph",
          "targets": [
            {
              "expr": "avg(sportintel_model_accuracy) by (model_name)",
              "legendFormat": "{{model_name}}"
            }
          ],
          "yAxes": [
            {
              "label": "Accuracy",
              "min": 0,
              "max": 1
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 0 }
        },
        {
          "id": 22,
          "title": "Prediction Latency",
          "type": "graph",
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(sportintel_prediction_latency_seconds_bucket[5m])) by (le, model)) * 1000",
              "legendFormat": "{{model}} - 95th percentile"
            }
          ],
          "yAxes": [
            {
              "label": "Latency (ms)",
              "min": 0
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 8 }
        },
        {
          "id": 23,
          "title": "SHAP Explanations Generated",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(increase(sportintel_shap_explanations_total[1h])) by (model_name)",
              "legendFormat": "{{model_name}}"
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 8 }
        }
      ],
      "time": {
        "from": "now-6h",
        "to": "now"
      },
      "refresh": "1m"
    }
  },
  "sportintel_business": {
    "dashboard": {
      "id": null,
      "title": "SportIntel - Business Metrics Dashboard",
      "tags": ["sportintel", "business", "revenue"],
      "timezone": "browser",
      "panels": [
        {
          "id": 30,
          "title": "Subscription Distribution",
          "type": "piechart",
          "targets": [
            {
              "expr": "sum(sportintel_active_subscriptions{status=\"active\"}) by (tier)",
              "legendFormat": "{{tier}}"
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 0 }
        },
        {
          "id": 31,
          "title": "Monthly Recurring Revenue",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(sportintel_subscription_revenue_dollars{period=\"monthly\"}) by (tier)",
              "legendFormat": "{{tier}}"
            }
          ],
          "yAxes": [
            {
              "label": "Revenue ($)",
              "min": 0
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 0 }
        },
        {
          "id": 32,
          "title": "Feature Usage",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(increase(sportintel_feature_usage_total[1h])) by (feature)",
              "legendFormat": "{{feature}}"
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 8 }
        },
        {
          "id": 33,
          "title": "Usage Limits Hit",
          "type": "graph",
          "targets": [
            {
              "expr": "sum(increase(sportintel_usage_limits_hit_total[1h])) by (limit_type, tier)",
              "legendFormat": "{{tier}} - {{limit_type}}"
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 8 }
        }
      ],
      "time": {
        "from": "now-24h",
        "to": "now"
      },
      "refresh": "5m"
    }
  },
  "sportintel_infrastructure": {
    "dashboard": {
      "id": null,
      "title": "SportIntel - Infrastructure Dashboard",
      "tags": ["sportintel", "infrastructure", "database"],
      "timezone": "browser",
      "panels": [
        {
          "id": 40,
          "title": "Database Connections",
          "type": "graph",
          "targets": [
            {
              "expr": "sportintel_db_connections_active",
              "legendFormat": "{{database}} - {{pool}}"
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 0 }
        },
        {
          "id": 41,
          "title": "Query Performance",
          "type": "graph",
          "targets": [
            {
              "expr": "histogram_quantile(0.95, sum(rate(sportintel_db_query_duration_seconds_bucket[5m])) by (le, database)) * 1000",
              "legendFormat": "{{database}} - 95th percentile"
            }
          ],
          "yAxes": [
            {
              "label": "Query Time (ms)",
              "min": 0
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 0 }
        },
        {
          "id": 42,
          "title": "TimescaleDB Compression Ratio",
          "type": "graph",
          "targets": [
            {
              "expr": "sportintel_timescale_compression_ratio",
              "legendFormat": "{{table}}"
            }
          ],
          "yAxes": [
            {
              "label": "Compression Ratio",
              "min": 0,
              "max": 1
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 0, "y": 8 }
        },
        {
          "id": 43,
          "title": "Cache Memory Usage",
          "type": "graph",
          "targets": [
            {
              "expr": "sportintel_cache_size_bytes",
              "legendFormat": "{{layer}}"
            }
          ],
          "yAxes": [
            {
              "label": "Memory (bytes)",
              "min": 0
            }
          ],
          "gridPos": { "h": 8, "w": 12, "x": 12, "y": 8 }
        }
      ],
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "refresh": "30s"
    }
  }
}